<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buscador ODS - Educaci√≥n Dual</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1a5cad; --secondary: #28a745; --dark: #2d3436; --light: #f4f7f6; --accent: #d35400; }
        body { font-family: 'Inter', sans-serif; background-color: var(--light); color: var(--dark); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; font-size: 22px; margin-bottom: 15px; line-height: 1.3; font-weight: 700; }
        .fuentes-nota { background: #f8f9fa; border: 1px solid #e9ecef; padding: 15px; border-radius: 8px; font-size: 12px; color: #636e72; margin-bottom: 20px; text-align: center; }
        .instrucciones-instructor { background: #fff3e0; border-left: 5px solid #ff9800; padding: 18px; margin-bottom: 25px; border-radius: 4px; }
        .instrucciones-instructor h3 { margin: 0 0 10px 0; color: #e65100; font-size: 17px; }
        .instrucciones-instructor ol { margin: 0; font-size: 13px; padding-left: 20px; color: #444; }
        .search-area { background: #f1f3f5; padding: 20px; border-radius: 8px; margin-bottom: 20px; display: flex; flex-direction: column; gap: 12px; }
        .search-box { width: 100%; padding: 12px; border: 2px solid #dfe6e9; border-radius: 8px; font-size: 15px; box-sizing: border-box; }
        .btn-buscar { width: 100%; padding: 14px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; font-size: 15px; }
        .btn-download { background: var(--secondary); color: white; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 10px; display: none; text-align: center; font-size: 14px; text-decoration: none; }
        .result-card { border: 1px solid #dfe6e9; padding: 20px; border-radius: 12px; margin-top: 15px; border-left: 8px solid var(--primary); background: #fff; }
        .ods-tag { display: inline-block; background: var(--secondary); color: white; padding: 5px 12px; border-radius: 20px; font-size: 11px; font-weight: bold; margin-bottom: 10px; }
        .label { font-weight: 700; color: var(--primary); display: block; margin-top: 10px; text-transform: uppercase; font-size: 9px; letter-spacing: 0.5px; }
        .content { font-size: 14px; line-height: 1.4; margin-top: 3px; color: #2d3436; }
    </style>
</head>
<body>

<div class="container">
    <h1>Buscador de Carreras de Educaci√≥n Dual alineados a los ODS de la Agenda 2030</h1>
    
    <div class="fuentes-nota">
        <strong>Nota:</strong> Basado en el cat√°logo <strong>COSAC 2025</strong> y metas oficiales de la <strong>ONU</strong>.
    </div>

    <div class="instrucciones-instructor">
        <h3>üë®‚Äçüè´ Gu√≠a para el Instructor de la Empresa</h3>
        <ol>
            <li><strong>Selecciona:</strong> La carrera del estudiante en el men√∫.</li>
            <li><strong>Busca:</strong> Escribe la actividad (ej. "calidad", "motores", "ventas").</li>
            <li><strong>Registra:</strong> Copia el indicador a la bit√°cora semanal del alumno.</li>
        </ol>
    </div>
    
    <div class="search-area">
        <label style="font-size: 13px; font-weight: bold;">1. Selecciona la Carrera:</label>
        <select id="carreraSelect" class="search-box" onchange="seleccionarCarrera()">
            <option value="">Cargando cat√°logo...</option>
        </select>
        
        <label style="font-size: 13px; font-weight: bold;">2. Filtro por actividad:</label>
        <input type="text" id="searchInput" class="search-box" placeholder="Escribe aqu√≠ para buscar...">
        <button class="btn-buscar" onclick="searchData()">GENERAR ALINEACI√ìN ODS</button>
        
        <button id="downloadBtn" class="btn-download" onclick="downloadExample()">üì• DESCARGAR EJEMPLO PARA PUESTO DE APRENDIZAJE</button>
    </div>
    
    <div id="resultsArea"></div>
</div>

<script>
    // BASE DE DATOS INTEGRADA
    const data = [
        {"C":"Mantenimiento Industrial","M":"Mantenimiento preventivo a motores.","H":"Pensamiento Sist√©mico","O":"ODS 7: Energ√≠a","I":"Reducci√≥n de consumo el√©ctrico."},
        {"C":"Mantenimiento Industrial","M":"Gesti√≥n de aceites y residuos.","H":"Responsabilidad Normativa","O":"ODS 12: Consumo","I":"Kg de residuos confinados."},
        {"C":"Adm√≥n. de Recursos Humanos","M":"Reclutamiento inclusivo.","H":"Conciencia Cr√≠tica","O":"ODS 5: G√©nero","I":"% de inclusi√≥n en selecci√≥n."},
        {"C":"Acabado de Textiles","M":"Procesos de te√±ido y estampado.","H":"Responsabilidad Normativa","O":"ODS 6: Agua Limpia","I":"Reducci√≥n de carga qu√≠mica en agua."},
        {"C":"Mecatr√≥nica","M":"Programaci√≥n de sistemas rob√≥ticos.","H":"Innovaci√≥n Sostenible","O":"ODS 9: Industria","I":"Ahorro de energ√≠a por ciclo."},
        {"C":"Turismo / Hospitalidad","M":"Atenci√≥n al hu√©sped local.","H":"Visi√≥n Prospectiva","O":"ODS 8: Trabajo Decente","I":"Proveedores locales integrados."},
        {"C":"Enfermer√≠a T√©cnica","M":"Manejo de RPBI.","H":"Responsabilidad √âtica","O":"ODS 3: Salud","I":"Cero incidentes por punci√≥n."},
        {"C":"Sistemas Automotrices","M":"Control de emisiones.","H":"Conciencia Ambiental","O":"ODS 11: Ciudades","I":"Gramos de CO2 reducidos."},
        {"C":"Soldadura Industrial","M":"Seguridad y extracci√≥n de humos.","H":"Autocuidado","O":"ODS 3: Salud","I":"Horas de exposici√≥n reducidas."},
        {"C":"Vitivinicultura","M":"Cultivo de vid y vinificaci√≥n.","H":"Conciencia Ambiental","O":"ODS 15: Ecosistemas","I":"Litros de agua por kilo de uva."},
        {"C":"Miner√≠a","M":"Extracci√≥n y beneficio.","H":"Responsabilidad Normativa","O":"ODS 15: Ecosistemas","I":"Hect√°reas restauradas."},
        {"C":"Gastronom√≠a / Cocina","M":"Gesti√≥n de mermas org√°nicas.","H":"Conciencia Ambiental","O":"ODS 12: Consumo","I":"Kg de merma compostada."}
        // ... (Agrega aqu√≠ los dem√°s si los requieres, pero con estos el men√∫ ya se llena)
    ];

    // Funci√≥n para poblar el select
    function cargarListado() {
        const select = document.getElementById('carreraSelect');
        // Extraemos nombres de carrera √∫nicos
        const carreras = [...new Set(data.map(item => item.C))].sort();
        
        select.innerHTML = '<option value="">-- Elige una Carrera --</option>';
        carreras.forEach(c => {
            const opt = document.createElement('option');
            opt.value = opt.textContent = c;
            select.appendChild(opt);
        });
    }

    function seleccionarCarrera() {
        const carrera = document.getElementById('carreraSelect').value;
        document.getElementById('searchInput').value = carrera;
        searchData();
    }

    let lastResult = null;

    function searchData() {
        const query = document.getElementById('searchInput').value.toLowerCase();
        const resultsArea = document.getElementById('resultsArea');
        const downloadBtn = document.getElementById('downloadBtn');
        resultsArea.innerHTML = '';
        
        const filtered = data.filter(i => i.C.toLowerCase().includes(query) || i.M.toLowerCase().includes(query));

        if (filtered.length > 0) {
            lastResult = filtered[0];
            downloadBtn.style.display = 'block';
            filtered.forEach(item => {
                const card = document.createElement('div');
                card.className = 'result-card';
                card.innerHTML = `
                    <div class="ods-tag">${item.O}</div>
                    <span class="label">Carrera</span>
                    <div class="content"><strong>${item.C}</strong></div>
                    <span class="label">Actividad en Empresa</span>
                    <div class="content">${item.M}</div>
                    <span class="label">Indicador para Bit√°cora</span>
                    <div class="content" style="color:var(--accent); font-weight:600;">${item.I}</div>
                `;
                resultsArea.appendChild(card);
            });
        } else {
            downloadBtn.style.display = 'none';
        }
    }

    function downloadExample() {
        if (!lastResult) return;
        const texto = `EJEMPLO DUAL ODS\nCarrera: ${lastResult.C}\nActividad: ${lastResult.M}\nODS: ${lastResult.O}\nIndicador: ${lastResult.I}`;
        const blob = new Blob([texto], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = "Ejemplo_Puesto_Aprendizaje.txt";
        a.click();
    }

    // Ejecutar al cargar
    window.onload = cargarListado;
</script>
</body>
</html>
