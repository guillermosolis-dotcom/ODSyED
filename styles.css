:root {
    --primary: #1a2a44;
    --secondary: #28a745;
    --ods-blue: #00aed9;
    --scian: #d35400;
    --light: #f8fafc;
    --white: #ffffff;
    --dgeti: #1565c0;
    --conalep: #6a1b9a;
    --cecyte: #2e7d32;
    --dgetaycm: #e65100;
    --border: #e2e8f0;
}
* { box-sizing: border-box; }
body {
    font-family: 'IBM Plex Sans', sans-serif;
    background-color: #dde3ec;
    margin: 0;
    padding: 20px;
    color: #1e293b;
}
.expediente-master {
    max-width: 1100px;
    margin: auto;
    background: var(--white);
    border-radius: 16px;
    box-shadow: 0 12px 40px rgba(0,0,0,0.15);
    overflow: hidden;
    border: 1px solid #cbd5e1;
}

/* HEADER */
.header-ods {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px 44px;
    background: white;
    border-bottom: 4px solid var(--primary);
}
.logo-rueda { height: 90px; width: auto; }
.logo-frase { height: 72px; width: auto; }

/* TITULO */
.seccion-titulo {
    padding: 28px 44px 20px;
    text-align: center;
    background: #f8fafc;
    border-bottom: 1px solid var(--border);
}
.seccion-titulo h1 {
    color: var(--primary);
    margin: 0 0 12px;
    font-size: 24px;
    font-weight: 700;
    letter-spacing: -0.3px;
}
.nota-tecnica {
    max-width: 820px;
    margin: 0 auto;
    padding: 14px 18px;
    background: #eff6ff;
    border-left: 4px solid #3b82f6;
    color: #1e40af;
    font-size: 13px;
    text-align: left;
    border-radius: 0 8px 8px 0;
    line-height: 1.6;
}

/* BUSCADOR */
.search-container {
    padding: 22px 44px;
    background: #f1f5f9;
    border-bottom: 1px solid var(--border);
}
.search-label {
    display: block;
    font-size: 12px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: #64748b;
    margin-bottom: 8px;
}
.search-input-wrap {
    position: relative;
    max-width: 820px;
    margin: 0 auto;
}
.search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: #94a3b8;
    font-size: 18px;
    pointer-events: none;
}
#searchInput {
    width: 100%;
    padding: 13px 14px 13px 42px;
    border: 2px solid #cbd5e1;
    border-radius: 10px;
    font-size: 15px;
    font-family: 'IBM Plex Sans', sans-serif;
    color: var(--primary);
    background: white;
    outline: none;
    transition: border-color 0.2s;
}
#searchInput:focus { border-color: var(--ods-blue); }
#searchInput::placeholder { color: #94a3b8; }

/* LISTA DE RESULTADOS */
#resultsList {
    max-width: 820px;
    margin: 8px auto 0;
    background: white;
    border: 1px solid var(--border);
    border-radius: 10px;
    max-height: 280px;
    overflow-y: auto;
    display: none;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
}
#resultsList.visible { display: block; }
.result-item {
    padding: 11px 16px;
    cursor: pointer;
    border-bottom: 1px solid #f1f5f9;
    transition: background 0.15s;
}
.result-item:last-child { border-bottom: none; }
.result-item:hover { background: #eff6ff; }
.result-item.selected { background: #dbeafe; }
.result-carrera {
    font-size: 14px;
    font-weight: 600;
    color: var(--primary);
    margin-bottom: 5px;
}
.result-carrera mark {
    background: #fef08a;
    color: var(--primary);
    border-radius: 2px;
    padding: 0 1px;
}
.result-subsistemas {
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
}
.tag-subsistema {
    font-size: 10px;
    font-weight: 700;
    padding: 2px 7px;
    border-radius: 4px;
    color: white;
    letter-spacing: 0.4px;
}
.tag-dgeti   { background: var(--dgeti); }
.tag-conalep { background: var(--conalep); }
.tag-cecyte  { background: var(--cecyte); }
.tag-dgetaycm{ background: var(--dgetaycm); }
.no-results {
    padding: 20px;
    text-align: center;
    color: #94a3b8;
    font-size: 14px;
}
.search-stats {
    max-width: 820px;
    margin: 6px auto 0;
    font-size: 12px;
    color: #64748b;
}

/* FICHA */
.ficha-body {
    padding: 36px 44px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
}
.col-span-2 { grid-column: span 2; }
.col-span-3 { grid-column: span 3; }
.card {
    background: white;
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 22px;
}
.card-label {
    font-size: 10px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
    color: #64748b;
    margin-bottom: 10px;
    display: block;
}
.card-content { font-size: 15px; color: #334155; line-height: 1.55; }
.card-highlight {
    border-top: 5px solid var(--secondary);
    background: #f0fff4;
}
.card-scian { border-left: 5px solid var(--scian); }
.card-ods { border: none; background: #ebf8ff; text-align: center; }
.card-dark {
    background: #0f172a;
    border: none;
    color: white;
}
.card-dark .card-label { color: rgba(255,255,255,0.5); }
.card-dark .card-content { color: #e2e8f0; font-style: italic; font-size: 14px; }
.mini-ods {
    background: var(--ods-blue);
    color: white;
    padding: 4px 10px;
    border-radius: 5px;
    font-weight: 700;
    font-size: 12px;
    display: inline-block;
}
.instrucciones-box {
    background: #fffbeb;
    border: 2px dashed #f59e0b;
    padding: 22px;
    border-radius: 12px;
    grid-column: span 3;
}
.instrucciones-box h4 { margin: 0 0 10px; color: #b45309; font-weight: 700; font-size: 14px; }
.ods-img-large {
    width: 110px;
    height: 110px;
    margin-top: 10px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}

/* CARD DE CARRERA - header con subsistemas */
.carrera-header-card {
    background: var(--primary);
    color: white;
    border: none;
    grid-column: span 3;
}
.carrera-header-card .card-label { color: rgba(255,255,255,0.55); }
.carrera-header-card h2 {
    margin: 0 0 12px;
    font-size: 22px;
    line-height: 1.3;
}
.subsistemas-ficha {
    display: flex;
    flex-wrap: wrap;
    gap: 7px;
    margin-top: 4px;
}
.tag-sub-ficha {
    font-size: 11px;
    font-weight: 700;
    padding: 4px 12px;
    border-radius: 6px;
    letter-spacing: 0.5px;
}
.tag-sub-ficha.dgeti    { background: #1976d2; color: white; }
.tag-sub-ficha.conalep  { background: #7b1fa2; color: white; }
.tag-sub-ficha.cecyte   { background: #388e3c; color: white; }
.tag-sub-ficha.dgetaycm { background: #f57c00; color: white; }

/* INDICADOR */
.indicador-box {
    margin-top: 14px;
    background: var(--primary);
    color: white;
    padding: 10px 14px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 700;
    text-align: center;
    letter-spacing: 0.2px;
}

/* BOTON PRINT */
.btn-print {
    display: block;
    width: calc(100% - 88px);
    margin: 0 44px 36px;
    padding: 16px;
    background: var(--secondary);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    font-family: 'IBM Plex Sans', sans-serif;
    letter-spacing: 0.5px;
    transition: background 0.2s;
}
.btn-print:hover { background: #218838; }

/* PLACEHOLDER INICIAL */
.placeholder-inicial {
    padding: 60px 44px;
    text-align: center;
    color: #94a3b8;
}
.placeholder-inicial .icono { font-size: 52px; margin-bottom: 16px; }
.placeholder-inicial p { font-size: 15px; margin: 0; }

@media print {
    .search-container, .btn-print, .header-ods, .nota-tecnica { display: none; }
    body { background: white; padding: 0; }
    .expediente-master { box-shadow: none; border: none; border-radius: 0; }
}

@media (max-width: 700px) {
    .ficha-body { grid-template-columns: 1fr; }
    .col-span-2, .col-span-3 { grid-column: span 1; }
    .carrera-header-card { grid-column: span 1; }
    .instrucciones-box { grid-column: span 1; }
    .header-ods { padding: 16px 20px; }
    .seccion-titulo, .search-container, .ficha-body { padding-left: 20px; padding-right: 20px; }
    .btn-print { width: calc(100% - 40px); margin: 0 20px 28px; }
}
